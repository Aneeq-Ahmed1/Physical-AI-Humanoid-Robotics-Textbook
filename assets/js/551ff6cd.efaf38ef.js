"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[6293],{8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>o});var i=s(6540);const r={},t=i.createContext(r);function c(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),i.createElement(t.Provider,{value:n},e.children)}},9702:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"ros2/nodes-topics-services","title":"ROS 2 Architecture: Nodes, Topics, and Services","description":"Introduction","source":"@site/docs/01-ros2/nodes-topics-services.md","sourceDirName":"01-ros2","slug":"/ros2/nodes-topics-services","permalink":"/Physical-AI-Humanoid-Robotics-Textbook/docs/ros2/nodes-topics-services","draft":false,"unlisted":false,"editUrl":"https://github.com/Aneeq-Ahmed1/Physical-AI-Humanoid-Robotics-Textbook/edit/master/my-website/docs/01-ros2/nodes-topics-services.md","tags":[],"version":"current","frontMatter":{},"sidebar":"textbookSidebar","previous":{"title":"ROS 2: The Robotic Nervous System","permalink":"/Physical-AI-Humanoid-Robotics-Textbook/docs/ros2/"},"next":{"title":"Simulation: Digital Twin for Humanoid Robotics","permalink":"/Physical-AI-Humanoid-Robotics-Textbook/docs/simulation/"}}');var r=s(4848),t=s(8453);const c={},o="ROS 2 Architecture: Nodes, Topics, and Services",l={},a=[{value:"Introduction",id:"introduction",level:2},{value:"Nodes: The Basic Computational Units",id:"nodes-the-basic-computational-units",level:2},{value:"Creating a Node",id:"creating-a-node",level:3},{value:"Node Characteristics",id:"node-characteristics",level:3},{value:"Topics: Publish/Subscribe Communication",id:"topics-publishsubscribe-communication",level:2},{value:"Publisher-Subscriber Pattern",id:"publisher-subscriber-pattern",level:3},{value:"Quality of Service (QoS) Settings",id:"quality-of-service-qos-settings",level:3},{value:"Example: Publisher Implementation",id:"example-publisher-implementation",level:3},{value:"Example: Subscriber Implementation",id:"example-subscriber-implementation",level:3},{value:"Services: Request/Response Communication",id:"services-requestresponse-communication",level:2},{value:"Service Characteristics",id:"service-characteristics",level:3},{value:"Example: Service Definition (example_interfaces/srv/AddTwoInts.srv)",id:"example-service-definition-example_interfacessrvaddtwointssrv",level:3},{value:"Example: Service Implementation",id:"example-service-implementation",level:3},{value:"Actions: Long-Running Tasks with Feedback",id:"actions-long-running-tasks-with-feedback",level:2},{value:"Action Characteristics",id:"action-characteristics",level:3},{value:"Communication Patterns in Humanoid Robotics",id:"communication-patterns-in-humanoid-robotics",level:2},{value:"Sensor Data Distribution",id:"sensor-data-distribution",level:3},{value:"Control Commands",id:"control-commands",level:3},{value:"High-Level Commands",id:"high-level-commands",level:3},{value:"Best Practices for ROS 2 Communication",id:"best-practices-for-ros-2-communication",level:2},{value:"Topic Best Practices",id:"topic-best-practices",level:3},{value:"Service Best Practices",id:"service-best-practices",level:3},{value:"Performance Considerations",id:"performance-considerations",level:3},{value:"Tools for Understanding Communication",id:"tools-for-understanding-communication",level:2},{value:"Summary",id:"summary",level:2},{value:"Acceptance Test Scenarios",id:"acceptance-test-scenarios",level:2},{value:"Test Scenario 1: Basic Publisher-Subscriber Communication",id:"test-scenario-1-basic-publisher-subscriber-communication",level:3},{value:"Test Scenario 2: Service Request-Response Communication",id:"test-scenario-2-service-request-response-communication",level:3},{value:"Test Scenario 3: Topic Communication Quality of Service",id:"test-scenario-3-topic-communication-quality-of-service",level:3},{value:"Test Scenario 4: Node Discovery and Communication",id:"test-scenario-4-node-discovery-and-communication",level:3},{value:"Test Scenario 5: Error Handling and Graceful Shutdown",id:"test-scenario-5-error-handling-and-graceful-shutdown",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"ros-2-architecture-nodes-topics-and-services",children:"ROS 2 Architecture: Nodes, Topics, and Services"})}),"\n",(0,r.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,r.jsx)(n.p,{children:"Understanding the fundamental communication patterns in ROS 2 is crucial for developing effective robotic applications. This section covers the three primary communication paradigms: Nodes (processes), Topics (publish/subscribe), and Services (request/response). These form the backbone of ROS 2's distributed computing architecture."}),"\n",(0,r.jsx)(n.h2,{id:"nodes-the-basic-computational-units",children:"Nodes: The Basic Computational Units"}),"\n",(0,r.jsxs)(n.p,{children:["In ROS 2, a ",(0,r.jsx)(n.strong,{children:"node"})," is an executable that uses ROS 2 to communicate with other nodes. Nodes are the basic building blocks of a ROS 2 program, and they are organized into packages to form a complete ROS 2 application."]}),"\n",(0,r.jsx)(n.h3,{id:"creating-a-node",children:"Creating a Node"}),"\n",(0,r.jsxs)(n.p,{children:["A node in ROS 2 is typically implemented as a class that inherits from ",(0,r.jsx)(n.code,{children:"rclpy.Node"})," (in Python) or ",(0,r.jsx)(n.code,{children:"rclcpp::Node"})," (in C++). Here's the basic structure:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\n\r\nclass MinimalNode(Node):\r\n    def __init__(self):\r\n        super().__init__('minimal_node')\r\n        # Node initialization code here\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    node = MinimalNode()\r\n    rclpy.spin(node)\r\n    node.destroy_node()\r\n    rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,r.jsx)(n.h3,{id:"node-characteristics",children:"Node Characteristics"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Each node has a unique name within the ROS 2 graph"}),"\n",(0,r.jsx)(n.li,{children:"Nodes can be started and stopped independently"}),"\n",(0,r.jsx)(n.li,{children:"Nodes communicate with each other through topics, services, and actions"}),"\n",(0,r.jsx)(n.li,{children:"Nodes can be written in different languages (Python, C++, etc.)"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"topics-publishsubscribe-communication",children:"Topics: Publish/Subscribe Communication"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Topics"})," enable asynchronous, one-to-many communication between nodes using a publish/subscribe pattern. This is ideal for streaming data like sensor readings, robot states, or control commands."]}),"\n",(0,r.jsx)(n.h3,{id:"publisher-subscriber-pattern",children:"Publisher-Subscriber Pattern"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Publisher"}),": A node that sends data to a topic"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Subscriber"}),": A node that receives data from a topic"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Topic"}),": The named bus over which messages are sent"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"quality-of-service-qos-settings",children:"Quality of Service (QoS) Settings"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 allows you to configure how messages are delivered using Quality of Service profiles:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Reliability"}),": Best effort vs. reliable delivery"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Durability"}),": Volatile vs. transient local (for late-joining subscribers)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"History"}),": Keep all messages vs. keep last N messages"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Deadline"}),": Maximum time between consecutive messages"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"example-publisher-implementation",children:"Example: Publisher Implementation"}),"\n",(0,r.jsx)(n.p,{children:"You can find the complete publisher example in the code-examples/ros2-examples/publisher.py file:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\n\r\nclass MinimalPublisher(Node):\r\n    def __init__(self):\r\n        super().__init__('minimal_publisher')\r\n        self.publisher_ = self.create_publisher(String, 'chatter', 10)\r\n        timer_period = 0.5  # seconds\r\n        self.timer = self.create_timer(timer_period, self.timer_callback)\r\n        self.i = 0\r\n\r\n    def timer_callback(self):\r\n        msg = String()\r\n        msg.data = f'Hello World: {self.i}'\r\n        self.publisher_.publish(msg)\r\n        self.get_logger().info(f'Publishing: \"{msg.data}\"')\r\n        self.i += 1\r\n\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    minimal_publisher = MinimalPublisher()\r\n\r\n    try:\r\n        rclpy.spin(minimal_publisher)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        minimal_publisher.destroy_node()\r\n        rclpy.shutdown()\r\n\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,r.jsx)(n.p,{children:"To run this publisher:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"python3 code-examples/ros2-examples/publisher.py\n"})}),"\n",(0,r.jsx)(n.h3,{id:"example-subscriber-implementation",children:"Example: Subscriber Implementation"}),"\n",(0,r.jsx)(n.p,{children:"You can find the complete subscriber example in the code-examples/ros2-examples/subscriber.py file:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\n\r\nclass MinimalSubscriber(Node):\r\n    def __init__(self):\r\n        super().__init__('minimal_subscriber')\r\n        self.subscription = self.create_subscription(\r\n            String,\r\n            'chatter',\r\n            self.listener_callback,\r\n            10)\r\n        self.subscription  # prevent unused variable warning\r\n\r\n    def listener_callback(self, msg):\r\n        self.get_logger().info(f'I heard: \"{msg.data}\"')\r\n\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    minimal_subscriber = MinimalSubscriber()\r\n\r\n    try:\r\n        rclpy.spin(minimal_subscriber)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        minimal_subscriber.destroy_node()\r\n        rclpy.shutdown()\r\n\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,r.jsx)(n.p,{children:"To run this subscriber:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"python3 code-examples/ros2-examples/subscriber.py\n"})}),"\n",(0,r.jsx)(n.h2,{id:"services-requestresponse-communication",children:"Services: Request/Response Communication"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Services"})," provide synchronous, one-to-one communication between nodes using a request/response pattern. This is ideal for operations that require a specific response or acknowledgment."]}),"\n",(0,r.jsx)(n.h3,{id:"service-characteristics",children:"Service Characteristics"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Service Client"}),": Sends a request and waits for a response"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Service Server"}),": Receives requests and sends responses"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Service Interface"}),": Defines the request and response message types"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"example-service-definition-example_interfacessrvaddtwointssrv",children:"Example: Service Definition (example_interfaces/srv/AddTwoInts.srv)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"int64 a\r\nint64 b\r\n---\r\nint64 sum\n"})}),"\n",(0,r.jsx)(n.h3,{id:"example-service-implementation",children:"Example: Service Implementation"}),"\n",(0,r.jsx)(n.p,{children:"You can find the complete service example (both server and client) in the code-examples/ros2-examples/service_example.py file:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'#!/usr/bin/env python3\r\n"""\r\nBasic ROS 2 service example for the Humanoid Robotics Textbook.\r\n\r\nThis example demonstrates how to create a service server and client\r\nthat communicate using a request/response pattern.\r\n"""\r\n\r\nimport sys\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom example_interfaces.srv import AddTwoInts\r\n\r\n\r\nclass MinimalService(Node):\r\n    def __init__(self):\r\n        super().__init__(\'minimal_service\')\r\n        self.srv = self.create_service(AddTwoInts, \'add_two_ints\', self.add_two_ints_callback)\r\n\r\n    def add_two_ints_callback(self, request, response):\r\n        response.sum = request.a + request.b\r\n        self.get_logger().info(f\'Incoming request\\na: {request.a} b: {request.b}\')\r\n        return response\r\n\r\n\r\nclass MinimalClient(Node):\r\n    def __init__(self):\r\n        super().__init__(\'minimal_client\')\r\n        self.cli = self.create_client(AddTwoInts, \'add_two_ints\')\r\n        while not self.cli.wait_for_service(timeout_sec=1.0):\r\n            self.get_logger().info(\'Service not available, waiting again...\')\r\n        self.req = AddTwoInts.Request()\r\n\r\n    def send_request(self, a, b):\r\n        self.req.a = a\r\n        self.req.b = b\r\n        self.future = self.cli.call_async(self.req)\r\n        rclpy.spin_until_future_complete(self, self.future)\r\n        return self.future.result()\r\n\r\n\r\ndef run_service_server():\r\n    """Run the service server"""\r\n    rclpy.init()\r\n    minimal_service = MinimalService()\r\n\r\n    try:\r\n        rclpy.spin(minimal_service)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        minimal_service.destroy_node()\r\n        rclpy.shutdown()\r\n\r\n\r\ndef run_service_client(a, b):\r\n    """Run the service client with the given values"""\r\n    rclpy.init()\r\n    minimal_client = MinimalClient()\r\n\r\n    try:\r\n        response = minimal_client.send_request(int(a), int(b))\r\n        minimal_client.get_logger().info(f\'Result of add_two_ints: {response.sum}\')\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        minimal_client.destroy_node()\r\n        rclpy.shutdown()\r\n\r\n\r\ndef main(args=None):\r\n    if len(sys.argv) == 1:\r\n        # Run as server\r\n        print("Running as service server. Use --client mode to run client.")\r\n        run_service_server()\r\n    elif len(sys.argv) >= 4 and sys.argv[1] == \'--client\':\r\n        # Run as client\r\n        a = sys.argv[2]\r\n        b = sys.argv[3]\r\n        run_service_client(a, b)\r\n    else:\r\n        print("Usage:")\r\n        print("  To run as server: python3 service_example.py")\r\n        print("  To run as client: python3 service_example.py --client <a> <b>")\r\n\r\n\r\nif __name__ == \'__main__\':\r\n    main()\n'})}),"\n",(0,r.jsx)(n.p,{children:"To run the service server:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"python3 code-examples/ros2-examples/service_example.py\n"})}),"\n",(0,r.jsx)(n.p,{children:"To run the service client:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"python3 code-examples/ros2-examples/service_example.py --client 1 2\n"})}),"\n",(0,r.jsx)(n.h2,{id:"actions-long-running-tasks-with-feedback",children:"Actions: Long-Running Tasks with Feedback"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Actions"})," are a more advanced communication pattern that supports long-running tasks with feedback, goal management, and cancellation. This is ideal for navigation, manipulation, or other tasks that take time to complete."]}),"\n",(0,r.jsx)(n.h3,{id:"action-characteristics",children:"Action Characteristics"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Goal"}),": Request to start an action with specific parameters"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Feedback"}),": Continuous updates on action progress"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Result"}),": Final outcome when the action completes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Cancel"}),": Ability to cancel a running action"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"communication-patterns-in-humanoid-robotics",children:"Communication Patterns in Humanoid Robotics"}),"\n",(0,r.jsx)(n.h3,{id:"sensor-data-distribution",children:"Sensor Data Distribution"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Topics"}),": Camera images, LIDAR scans, IMU data, joint states"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"QoS"}),": Often requires reliable delivery with appropriate history settings"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"control-commands",children:"Control Commands"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Topics"}),": Velocity commands, joint position commands"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"QoS"}),": May require best-effort delivery for real-time control"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"high-level-commands",children:"High-Level Commands"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Services"}),": Set robot configuration, save map, calibrate sensors"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Actions"}),": Navigate to pose, pick and place object, follow person"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"best-practices-for-ros-2-communication",children:"Best Practices for ROS 2 Communication"}),"\n",(0,r.jsx)(n.h3,{id:"topic-best-practices",children:"Topic Best Practices"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use meaningful topic names following ROS naming conventions"}),"\n",(0,r.jsx)(n.li,{children:"Consider QoS settings carefully based on application requirements"}),"\n",(0,r.jsx)(n.li,{children:"Use appropriate message types (standard vs. custom)"}),"\n",(0,r.jsx)(n.li,{children:"Implement proper error handling and node lifecycle management"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"service-best-practices",children:"Service Best Practices"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use services for operations that require a response"}),"\n",(0,r.jsx)(n.li,{children:"Implement timeouts to prevent hanging requests"}),"\n",(0,r.jsx)(n.li,{children:"Design service interfaces to be intuitive and efficient"}),"\n",(0,r.jsx)(n.li,{children:"Consider whether actions might be more appropriate for long-running operations"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"performance-considerations",children:"Performance Considerations"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Minimize message size to reduce network overhead"}),"\n",(0,r.jsx)(n.li,{children:"Use appropriate serialization formats"}),"\n",(0,r.jsx)(n.li,{children:"Consider message frequency and its impact on system performance"}),"\n",(0,r.jsx)(n.li,{children:"Monitor network usage in distributed systems"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"tools-for-understanding-communication",children:"Tools for Understanding Communication"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 provides several tools to visualize and debug communication:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ros2 topic"}),": List, echo, publish, and info about topics"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ros2 service"}),": List, call, and info about services"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ros2 action"}),": List, send goals, and info about actions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"rqt_graph"}),": Visualize the ROS 2 computation graph"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ros2 bag"}),": Record and replay messages for analysis"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2's communication architecture provides flexible and robust mechanisms for distributed robotic applications. Understanding nodes, topics, services, and actions is fundamental to building effective humanoid robotic systems. The publish/subscribe model is ideal for sensor data and control commands, while services and actions provide synchronous communication and long-running task management respectively."}),"\n",(0,r.jsx)(n.p,{children:"In the next sections, we'll implement practical examples of these communication patterns and integrate them into humanoid robotics applications."}),"\n",(0,r.jsx)(n.h2,{id:"acceptance-test-scenarios",children:"Acceptance Test Scenarios"}),"\n",(0,r.jsx)(n.h3,{id:"test-scenario-1-basic-publisher-subscriber-communication",children:"Test Scenario 1: Basic Publisher-Subscriber Communication"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Objective"}),": Verify that messages are correctly published and received between nodes."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Steps"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Launch the publisher node: ",(0,r.jsx)(n.code,{children:"python3 code-examples/ros2-examples/publisher.py"})]}),"\n",(0,r.jsxs)(n.li,{children:["In a separate terminal, launch the subscriber node: ",(0,r.jsx)(n.code,{children:"python3 code-examples/ros2-examples/subscriber.py"})]}),"\n",(0,r.jsx)(n.li,{children:"Observe that the subscriber receives and displays messages from the publisher"}),"\n",(0,r.jsx)(n.li,{children:'Verify that message content is correctly transmitted (e.g., "Hello World: X" where X is incrementing)'}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Expected Result"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Publisher sends messages at approximately 2Hz (every 0.5 seconds)"}),"\n",(0,r.jsx)(n.li,{children:"Subscriber receives messages and logs them to the console"}),"\n",(0,r.jsx)(n.li,{children:"Message sequence numbers increment correctly"}),"\n",(0,r.jsx)(n.li,{children:"No errors or exceptions occur"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"test-scenario-2-service-request-response-communication",children:"Test Scenario 2: Service Request-Response Communication"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Objective"}),": Verify that service requests are correctly processed and responses are returned."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Steps"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Launch the service server: ",(0,r.jsx)(n.code,{children:"python3 code-examples/ros2-examples/service_example.py"})]}),"\n",(0,r.jsxs)(n.li,{children:["In a separate terminal, run the service client: ",(0,r.jsx)(n.code,{children:"python3 code-examples/ros2-examples/service_example.py --client 5 3"})]}),"\n",(0,r.jsx)(n.li,{children:"Verify that the service returns the correct sum (8 in this example)"}),"\n",(0,r.jsx)(n.li,{children:"Test with different values to ensure the service works correctly"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Expected Result"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Service server receives the request with parameters (5, 3)"}),"\n",(0,r.jsx)(n.li,{children:"Service server processes the request and returns the sum (8)"}),"\n",(0,r.jsx)(n.li,{children:"Service client receives and displays the correct result"}),"\n",(0,r.jsx)(n.li,{children:"No errors or exceptions occur"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"test-scenario-3-topic-communication-quality-of-service",children:"Test Scenario 3: Topic Communication Quality of Service"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Objective"}),": Verify that QoS settings affect communication behavior as expected."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Steps"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Modify the publisher and subscriber examples to use different QoS profiles (e.g., reliable vs. best effort)"}),"\n",(0,r.jsx)(n.li,{children:"Launch both nodes and observe communication behavior"}),"\n",(0,r.jsx)(n.li,{children:"Test with various QoS settings and document differences in behavior"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Expected Result"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Reliable QoS ensures all messages are delivered"}),"\n",(0,r.jsx)(n.li,{children:"Best effort QoS may drop messages under high load but with lower latency"}),"\n",(0,r.jsx)(n.li,{children:"Durability settings affect late-joining subscribers appropriately"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"test-scenario-4-node-discovery-and-communication",children:"Test Scenario 4: Node Discovery and Communication"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Objective"}),": Verify that nodes can discover and communicate with each other on the ROS 2 network."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Steps"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Start the ROS 2 daemon: ",(0,r.jsx)(n.code,{children:"ros2 daemon start"})]}),"\n",(0,r.jsx)(n.li,{children:"Launch publisher and subscriber nodes"}),"\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:"ros2 node list"})," to verify both nodes are discovered"]}),"\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:"ros2 topic list"})," to verify the topic is discovered"]}),"\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:"ros2 topic info /chatter"})," to verify topic connection status"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Expected Result"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Both publisher and subscriber nodes appear in the node list"}),"\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.code,{children:"/chatter"})," topic appears in the topic list"]}),"\n",(0,r.jsx)(n.li,{children:"Topic info shows active publisher and subscriber connections"}),"\n",(0,r.jsx)(n.li,{children:"Nodes can communicate successfully"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"test-scenario-5-error-handling-and-graceful-shutdown",children:"Test Scenario 5: Error Handling and Graceful Shutdown"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Objective"}),": Verify that nodes handle errors and shutdown gracefully."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Steps"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Launch publisher and subscriber nodes"}),"\n",(0,r.jsx)(n.li,{children:"Terminate nodes using Ctrl+C"}),"\n",(0,r.jsx)(n.li,{children:"Verify that nodes cleanup resources properly"}),"\n",(0,r.jsx)(n.li,{children:"Check that no zombie processes remain"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Expected Result"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Nodes respond to SIGINT (Ctrl+C) and begin shutdown process"}),"\n",(0,r.jsx)(n.li,{children:"Nodes properly destroy ROS 2 entities before exiting"}),"\n",(0,r.jsx)(n.li,{children:"No resource leaks or zombie processes remain"}),"\n",(0,r.jsx)(n.li,{children:"All logs indicate clean shutdown"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);