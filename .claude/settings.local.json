{
  "permissions": {
    "allow": [
      "Bash(PYTHONPATH=. python tests/integration_test.py)",
      "Bash(python -c \"import sys; sys.path.append(''.''); from agent.llm_agent import LLMAgent; agent = LLMAgent(); print(''Agent initialized successfully'')\")",
      "Bash(python -c \"from agent.llm_agent import LLMAgent; agent = LLMAgent(); print(''Agent initialized successfully'')\")",
      "Bash(dir backendagent)",
      "Bash(python -c \"import agent.gemini_openai_wrapper; print(''Module imported successfully'')\")",
      "Bash(pip install -r requirements.txt)",
      "Bash(python -m pip install -r requirements.txt)",
      "Bash(python -m pip install openai google-generativeai python-dotenv)",
      "Bash(python -c \"import google.generativeai as genai; print(''Google Generative AI imported successfully'')\")",
      "Bash(python -c \"import agent.gemini_openai_wrapper; print(''Gemini wrapper imported successfully'')\")",
      "Bash(python -c \"import sys; sys.path.insert(0, ''.''); from agent.llm_agent import LLMAgent; agent = LLMAgent(); print(''Agent initialized successfully'')\")",
      "Bash(timeout 10s python -c \"\nimport uvicorn\nfrom main import app\nprint(''Starting server on http://localhost:8000...'')\n# Don''t actually start the server, just test that imports work\nprint(''All imports successful, server would start properly'')\n\")",
      "Bash(python -c \"import sys; sys.path.insert(0, ''.''); from vector.qdrant_client import QdrantVectorDB; db = QdrantVectorDB(); print(''QdrantVectorDB initialized successfully'')\")",
      "Bash(python -c \"\nimport sys\nsys.path.insert(0, ''.'')\n\n# Test importing the main components\nfrom vector.qdrant_client import QdrantVectorDB\nfrom agent.llm_agent import LLMAgent\nfrom api.chat import chat_router  # This will import and initialize all components\nprint(''All backend components imported successfully'')\n\")",
      "Bash(timeout 3s curl -s http://localhost:8000/health)",
      "Bash(python -c \"\nimport uvicorn\nfrom main import app\nprint(''Starting server on http://localhost:8000...'')\n# Run with log level to see any issues\nuvicorn.run(app, host=''0.0.0.0'', port=8000, log_level=''info'')\n\")",
      "Bash(curl -s -X GET http://localhost:8000/docs)",
      "Bash(python test_gemini_agent.py)",
      "Bash(python debug_gemini.py)",
      "Bash(python test_embeddings.py)",
      "Bash(git fetch --all --prune)",
      "Bash(.specify/scripts/powershell/create-new-feature.ps1 -Json \"labels: [\"\"bonus\"\", \"\"subagents\"\", \"\"reusable-intelligence\"\"]\\\\n\\\\n---\\\\n## Bonus Feature #4: Reusable Intelligence via Claude Subagents & Agent Skills\\\\n\\\\n### Objective\\\\nIntroduce reusable intelligence using Claude Code Subagents and Agent Skills that can be reused across the book, chatbot, and future features.\\\\n\\\\n### Subagents to Create\\\\n1. **Book Expert Agent**\\\\n   - Answers questions using full-book RAG.\\\\n2. **Selected Text Reasoner**\\\\n   - Answers questions strictly from highlighted text.\\\\n3. **Chapter Guide Agent**\\\\n   - Explains chapter concepts at beginner/intermediate/advanced level.\\\\n4. **Evaluation Agent**\\\\n   - Checks responses for hallucinations or context leakage.\\\\n\\\\n### Skills\\\\n- retrieve_book_chunks\\\\n- answer_from_selected_text\\\\n- summarize_chapter\\\\n- explain_like_five\\\\n\\\\n### Constraints\\\\n- Agents must be independent and reusable.\\\\n- No UI changes required.\\\\n- Agents must follow existing backend architecture.\\\\n\\\\n### Success Criteria\\\\n- Agents can be called independently.\\\\n- Clear agent routing logic exists.\\\\n- Agents are documented and reusable.\\\\n---\" -Json -Number 1 -ShortName \"reusable-subagents\")",
      "Bash(.specify/scripts/bash/create-new-feature.sh --json --number 1 --short-name \"reusable-subagents\" --description \"Bonus Feature #4: Reusable Intelligence via Claude Subagents & Agent Skills\")",
      "Bash(.specify/scripts/powershell/check-prerequisites.ps1 -Json -RequireTasks -IncludeTasks)",
      "Bash(dir \".specify\\\\scripts\\\\powershell\\\\check-prerequisites.ps1\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -File \".specify\\\\scripts\\\\powershell\\\\check-prerequisites.ps1\" -Json -RequireTasks -IncludeTasks)",
      "Bash(dir backendagentsubagents)",
      "Bash(.specify/scripts/powershell/create-new-feature.ps1 -Json \"labels: [\"\"bonus\"\", \"\"personalization\"\"]\\\\n\\\\n---\\\\n## Bonus Feature #6: Chapter Content Personalization\\\\n\\\\n### Objective\\\\nAllow logged-in users to personalize chapter content based on their skill level.\\\\n\\\\n### User Levels\\\\n- Beginner\\\\n- Intermediate\\\\n- Advanced\\\\n\\\\n### Behavior\\\\n- User selects level at chapter start.\\\\n- Chapter Guide Agent rewrites/summarizes content accordingly.\\\\n- Original content remains unchanged.\\\\n\\\\n### Constraints\\\\n- No permanent content mutation.\\\\n- Personalization applied per session.\\\\n\\\\n### Success Criteria\\\\n- Button visible per chapter.\\\\n- Personalized explanation generated by agent.\\\\n- No impact on RAG accuracy.\\\\n---\" --json --number 1 --short-name \"chapter-personalization\" \"Chapter Content Personalization\")",
      "Bash(.specify/scripts/bash/create-new-feature.sh --json --number 1 --short-name \"chapter-personalization\" \"Chapter Content Personalization\")",
      "Bash(dir my-website /s)",
      "Bash(python start_backend.py)",
      "Bash(pip install -r backend/requirements.txt)",
      "Bash(python test_personalization.py)",
      "Bash(python -c \"import sys; sys.path.append\\(''.''\\); from test_personalization import test_personalization_flow; test_personalization_flow\\(\\)\")",
      "Bash(python -m backend.test_personalization)",
      "Bash(python test_translation.py)",
      "Bash(python test_translation_simple.py)"
    ]
  }
}
